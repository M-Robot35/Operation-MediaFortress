<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <!-- CDN BOOTSTRAP CSS =  https://getbootstrap.com/docs/5.3/forms/select/ -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">  
    <link rel="stylesheet" href="assets/css/style.css">    
    <title>FULL DOWNLOADS 8K</title>

</head>

<style>
    .dark_mode{
        background-color: black;
        color: white;
    }

    #modeDark{
        display: none;
    }
    
</style>

<body class="container-fluid" >

    <header class="mb-5 border-bottom pb-2">
        
        <div class="container text-center mt-3">
            
            <div class="row align-items-center">
                <div class="col">
                    One of three columns
                </div>
                <div class="col">
                    One of three columns
                </div>
                <div class="col">
                    <div>
                        <label class="d-flex gap-3" for="modeDark">
                            <span class="btn btn-secondary" id="write-bg">Dark Mode</span>
                            <input class="" type="checkbox" name="modeDark" id="modeDark">

                        </label>
                    </div>
                </div>
            </div>
        
        </div>
    </header>
    
    <!-- Conteudo  -->
    <section class="container w-50 ">

        <section>
            <h1 class="text-center">
                Download Full-HD 8K
            </h1>
        </section>
    
        <!--  -->
        <div id="app">
            <test :prop="someData" />
          </div>
        
        <section   class="border p-2 rounded mb-5" id="url-get">        
            <div  class="mb-3">
                <input type="email" class="form-control" id="urlvideo" placeholder="URL video" v-model="url_player">
                            
                <div id="passwordHelpBlock" class="form-text">
                    {{ message }}
                </div>
            
                <div>
                    <button v-on:click="buscarVideo()" type="button" class="btn btn-primary w-100 mt-2">Buscar Video</button>
                </div>   
            </div>    
        
            <div v-if="dados_api" class="">
                <div >
                    <img v-bind:src="dados_api.info.thumbnail.url " class="img-fluid" alt="imagem">                    
                    <h2>
                        <div v-if="dados_api" id="title">
                            {{ dados_api.info.title }}                     
                        </div>
                    </h2>
                    
                    <div id="passwordHelpBlock" class="form-text mb-2">
                        <span>Canal : </span>{{ dados_api.info.ownerChannelName }}  
                    </div>                
                </div>
    
                <div class="border d-flex justify-content-between align-items-center">
                    
                    <div class="d-flex">
                        <span class="fw-bold text-center p-2 rounded">QUALIDADE : </span>
                        
                        <div class="">
                            <select class="form-select" aria-label="Default select example" id="qualidade">                            
                                <option v-for="(item, index) in dados_api.qualidades" :value="item.itag" >
                                    {{ item.qualityLabel }}
                                </option>    
                            </select>
                        </div>
                    </div>
                    
                    <div class="">
                        <button v-on:click=" cancelarDownload()" class="btn-primary  text-center p-2 rounded" >Cancel</button>
                        <button v-on:click="fazerDownload() " class="btn-primary text-center p-2 rounded">Download</button>
                    </div>
                    
                </div>     

                <!-- progresbar -->
                <div class="container mt-3 d-flex justify-content-between">
                    <div id="bar-progress" class="progress-bar progress-bar-striped bg-success " role="progressbar" style="width: 80%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    <div id="bites-count" class="w-25">12M / 20M</div>
                </div>               
        </section>    
        
    </section>
    
    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>

    
    <script src="/socket.io/socket.io.js"></script>
    
    <script>
        
      const socket = io();
      
      socket.on('hello', ( data )=>{     
        const progress = document.getElementById('bar-progress')
        progress.style.width = data
      })

      socket.on('done', (data) => {
         const progress = document.getElementById('bar-progress')
         progress.innerHTML = "Download Completo"
     })

    </script>

    </body>

    <!-- CDN VUE =  https://br.vuejs.org/v2/guide/installation.html -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    
</script><!-- CDN BOOTSTRAP JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<!-- WebSocket io-->
<script type="module" src="./assets/scripts/scripts.js"></script> 


</html>
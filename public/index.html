<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <!-- CDN BOOTSTRAP CSS =  https://getbootstrap.com/docs/5.3/forms/select/ -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">  
    <link rel="stylesheet" href="assets/css/style.css">    
    <title>FULL DOWNLOADS 8K</title>

</head>

<body class="container-fluid container-css" >
    <!-- <div id="header"></div> -->
        
    <section class="container mb-3">
        <div class="row">
            <div class="col">
                <nav class="navbar bg-body-tertiary">
                    <div class="container-fluid">
                      <a class="navbar-brand" id="titulo-site"></a>
                      <div>
                        <label class="d-flex gap-3" for="modeDark">
                            <span class="btn btn-secondary" id="write-bg">Dark Mode</span>
                            <input class="" type="checkbox" name="modeDark" id="modeDark">
                        </label>
                      </div>
                    </div>
                  </nav>
            </div>
        </div>
    </section class=''>
    
    <!-- Conteudo  -->
    <section class="container w-auto">

        <section>
            <h1 class="text-center">
                Download Full-HD 8K
            </h1>
        </section>
    
        <!-- Conteudo Principal -->
        <div id="url-get"> </div>
       
    </section>

    <section id="videos-list" class="container container-videos">  
        <!-- <div class='thiago'>
            <img src="https://meubairroburitis.com.br/wp-content/uploads/2021/06/video.jpg" alt="">
            <div class="videos-items">
                <div class="body-item" id="component">
                    <div id="titulo">Titulo do Video++++++++++++++++++++++++++++++++++</div>
                    <div>
                        <div id="channel">Nome do canal</div>
                        <div>
                            <select  id='tag' class="form-select-sm" aria-label="Default select example" >                            
                                <option  value="18" >
                                    360P
                                </option>      
                                <option  value="23" >
                                    1080P
                                </option>                                  
                            </select>
                        </div>
                        <div id="bits-download"></div>
                        <div>xxxxxxx</div>
                        <div>xxxxxxx</div>
                    </div>
                    <progress class="w-100" id="file" value="32" max="100"> 32% </progress>
                   <button disabled onclick="fazerDownload(this)" data-url="www.youtube.com@idDoVideo" class="btn btn-primary botao-dl">Download</button>
                    <a style="display: none;" download="x.mp4" href="http://localhost:3005/download?url=https://www.youtube.com/watch?v=O8HfNyNSdyw&qualidade=18&socket=UCWKtHaeXVzUscYGcm0hEunw">download teste</a>
                
                </div>
            </div>
            <div  onclick="fechar(this)" class="close-video">X</div>
        <div>  -->
         

    </section>
    
    <!-- Footer -->
    <!-- <div id="footer"></div> -->
    
    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
    
    <script src="./template.js"></script>
    <script src="/socket.io/socket.io.js"></script>    <!-- WebSocket CDN-->
    <script src="./assets/scripts/websocket.js"></script> <!-- WebSocket SCRIPS -->
    <!-- CDN VUE =  https://br.vuejs.org/v2/guide/installation.html -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
   
    </script><!-- CDN BOOTSTRAP JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- WebSocket io-->
    <script type="module" src="./assets/scripts/scripts.js"></script> 

    <script>
        function fechar(element){
            element.parentNode.remove()
        }         

        function fazerDownload( element ){
            const allAtribute = element.parentNode
            allAtribute.querySelector('#btn-dl').setAttribute('disabled','')
            const componentA = allAtribute.querySelector('#component>a')
            const qualidade = allAtribute.querySelector('#tag').value
            let somenteLink = componentA.getAttribute('href').replace('$$$', `qualidade=${qualidade}`)            
            allAtribute.setAttribute('href', somenteLink)            
            componentA.removeAttribute('href')
            componentA.setAttribute('href', somenteLink)
            componentA.click()            
        }

       
    </script>

    </body>

</html>

